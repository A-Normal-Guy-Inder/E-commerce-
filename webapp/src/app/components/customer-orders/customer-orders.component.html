<div class="max-w-5xl mx-auto px-4 py-8">
  <h2 class="text-2xl font-semibold text-[#71C9CE] mb-6">My Orders</h2>

  <div *ngIf="orders?.length; else noOrders">
    <div *ngFor="let order of orders" class="bg-white shadow-md rounded-2xl border border-gray-200 p-5 mb-6">
      
      <!-- Order ID + Status + Date -->
      <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4">
        <div class="text-sm text-gray-600 mb-2 sm:mb-0">
          <p class="font-medium text-gray-800">Order ID:</p>
          <p>{{ order._id }}</p>
          <span class="font-medium text-gray-800">Order Date:</span><span>  {{ order.date | date:'mediumDate' }}</span>
        </div>
        <div class="text-sm">
          <span class="px-3 py-1 rounded-full font-medium"
                [ngClass]="{
                  'bg-yellow-100 text-yellow-800 ring-2 ring-yellow-300': order.status === 'inprogress',
                  'bg-blue-100 text-blue-800 ring-2 ring-blue-300': order.status === 'shipped',
                  'bg-indigo-100 text-indigo-800 ring-2 ring-indigo-300': order.status === 'dispatched',
                  'bg-green-100 text-green-800 ring-2 ring-green-300': order.status === 'delivered',
                  'bg-red-100 text-red-700 ring-2 ring-red-300': order.status === 'cancelled',
                }">
            {{ order.status | titlecase }}
          </span>
        </div>
      </div>

      <!-- Address + Payment -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4 text-sm text-gray-700">
        <div>
          <p class="font-medium text-gray-800">Shipping Address:</p>
          <p>{{ order.address?.address1 }}, {{ order.address?.address2 }}</p>
          <p>{{ order.address?.city }} - {{ order.address?.pincode }}</p>
        </div>
        <div>
          <p class="font-medium text-gray-800">Payment:</p>
          <p>Method: {{ order.paymentType | titlecase }}</p>
        </div>
      </div>

      <!-- Items -->
      <div>
        <p class="font-medium text-gray-800 mb-2">Items:</p>
        <div class="space-y-1">
          <div *ngFor="let item of order.items" class="flex justify-between border-b pb-1 text-sm text-gray-700">
            <span>{{ item.product.name || 'Product' }} × {{ item.quantity }}</span>
            <span>₹{{ item.quantity * sellingPrice(item.product.Price, item.product.discount) }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- No Orders -->
  <ng-template #noOrders>
    <div class="text-center text-gray-500 py-20">
      <p class="text-lg">You haven’t placed any orders yet.</p>
    </div>
  </ng-template>
</div>
